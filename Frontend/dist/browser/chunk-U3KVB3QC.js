import{b as Z,c as L}from"./chunk-P4AWLXSQ.js";import{c as at,d as $}from"./chunk-UUEWHVKY.js";import"./chunk-FK6H3RFT.js";import"./chunk-VN3CQEPZ.js";import{f as zt}from"./chunk-GAFMSX2F.js";import{d as At}from"./chunk-FLV55RHB.js";import"./chunk-SLTDNZJL.js";import{$ as Y,R as Ft,S as bt,T as Dt,U as Pt,V as Ht,W as Wt,X as kt,Y as Rt,Z as Et,_ as Lt}from"./chunk-ZRBDJC7I.js";import{a as O,d as I,e as _t,f as Tt,g as X,h as Mt,i as xt,s as P}from"./chunk-ECWPKNTX.js";import{Da as F,Ha as j,K as V,Sa as m,Sb as wt,Ta as g,Ua as N,Va as A,Wa as z,Yb as D,_ as yt,_a as S,eb as vt,fb as ct,gb as Ct,lb as c,lc as ot,mb as b,nb as St,pa as v,pb as _,qb as T,rb as M,ya as E,za as U}from"./chunk-SC6NY4NB.js";import"./chunk-C6Q5SG76.js";function Xt(e,t,i,n,r){n=n||{};var o=1.15,a=r.internal.scaleFactor,s=r.internal.getFontSize()/a,f=r.getLineHeightFactor?r.getLineHeightFactor():o,l=s*f,p=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof e=="string"?e.split(p):e,h=d.length||1),i+=s*(2-o),n.valign==="middle"?i-=h/2*l:n.valign==="bottom"&&(i-=h*l),n.halign==="center"||n.halign==="right"){var u=s;if(n.halign==="center"&&(u*=.5),d&&h>=1){for(var y=0;y<d.length;y++)r.text(d[y],t-r.getStringUnitWidth(d[y])*u,i),i+=l;return r}t-=r.getStringUnitWidth(e)*u}return n.halign==="justify"?r.text(e,t,i,{maxWidth:n.maxWidth||100,align:"justify"}):r.text(e,t,i),r}var Bt={},q=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,i){i===void 0&&(i=null),i?i.__autoTableDocumentDefaults=t:Bt=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,i){var n,r,o;i===void 0&&(i=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),s=a.fontStyle,f=a.fontName;if(t.font&&(f=t.font),t.fontStyle){s=t.fontStyle;var l=this.getFontList()[f];l&&l.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(l[0]),s=l[0])}if(this.jsPDFDocument.setFont(f,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!i){var p=e.unifyColor(t.fillColor);p&&(n=this.jsPDFDocument).setFillColor.apply(n,p),p=e.unifyColor(t.textColor),p&&(r=this.jsPDFDocument).setTextColor.apply(r,p),p=e.unifyColor(t.lineColor),p&&(o=this.jsPDFDocument).setDrawColor.apply(o,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,i,n){return this.jsPDFDocument.splitTextToSize(t,i,n)},e.prototype.rect=function(t,i,n,r,o){return this.jsPDFDocument.rect(t,i,n,r,o)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Bt||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),ut=function(e,t){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},ut(e,t)};function Yt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ut(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var qt=function(e){Yt(t,e);function t(i){var n=e.call(this)||this;return n._element=i,n}return t}(Array);function se(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function fe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function tt(e,t,i){i.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],r=n.map(function(o){return i.getTextWidth(o)}).reduce(function(o,a){return Math.max(o,a)},0);return r}function Gt(e,t,i,n){var r=t.settings.tableLineWidth,o=t.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:o});var a=Kt(r,!1);a&&e.rect(i.x,i.y,t.getWidth(e.pageSize().width),n.y-i.y,a)}function Kt(e,t){var i=e>0,n=t||t===0;return i&&n?"DF":i?"S":n?"F":null}function it(e,t){var i,n,r,o;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(i=e.left)!==null&&i!==void 0?i:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(r=e.right)!==null&&r!==void 0?r:t,bottom:(o=e.bottom)!==null&&o!==void 0?o:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Qt(e,t){var i=it(t.settings.margin,0);return e.pageSize().width-(i.left+i.right)}function pe(e,t,i,n,r){var o={},a=1.3333333333333333,s=lt(t,function(H){return r.getComputedStyle(H).backgroundColor});s!=null&&(o.fillColor=s);var f=lt(t,function(H){return r.getComputedStyle(H).color});f!=null&&(o.textColor=f);var l=he(n,i);l&&(o.cellPadding=l);var p="borderTopColor",d=a*i,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var u=(parseFloat(h)||0)/d;u&&(o.lineWidth=u)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},o.lineWidth.top||(o.lineWidth.right?p="borderRightColor":o.lineWidth.bottom?p="borderBottomColor":o.lineWidth.left&&(p="borderLeftColor"));var y=lt(t,function(H){return r.getComputedStyle(H)[p]});y!=null&&(o.lineColor=y);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var C=parseInt(n.fontSize||"");isNaN(C)||(o.fontSize=C/a);var w=de(n);w&&(o.fontStyle=w);var R=(n.fontFamily||"").toLowerCase();return e.indexOf(R)!==-1&&(o.font=R),o}function de(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function lt(e,t){var i=Jt(e,t);if(!i)return null;var n=i.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function Jt(e,t){var i=t(e);return i==="rgba(0, 0, 0, 0)"||i==="transparent"||i==="initial"||i==="inherit"?e.parentElement==null?null:Jt(e.parentElement,t):i}function he(e,t){var i=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,o=i.map(function(s){return parseInt(s||"0")/n}),a=it(o,0);return r>a.top&&(a.top=r),r>a.bottom&&(a.bottom=r),a}function Vt(e,t,i,n,r){var o,a;n===void 0&&(n=!1),r===void 0&&(r=!1);var s;typeof t=="string"?s=i.document.querySelector(t):s=t;var f=Object.keys(e.getFontList()),l=e.scaleFactor(),p=[],d=[],h=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:p,body:d,foot:h};for(var u=0;u<s.rows.length;u++){var y=s.rows[u],x=(a=(o=y?.parentElement)===null||o===void 0?void 0:o.tagName)===null||a===void 0?void 0:a.toLowerCase(),C=ue(f,l,i,y,n,r);C&&(x==="thead"?p.push(C):x==="tfoot"?h.push(C):d.push(C))}return{head:p,body:d,foot:h}}function ue(e,t,i,n,r,o){for(var a=new qt(n),s=0;s<n.cells.length;s++){var f=n.cells[s],l=i.getComputedStyle(f);if(r||l.display!=="none"){var p=void 0;o&&(p=pe(e,f,t,l,i)),a.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:p,_element:f,content:me(f)})}}var d=i.getComputedStyle(n);if(a.length>0&&(r||d.display!=="none"))return a}function me(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(i){return i.trim()}).join(`
`),t.innerText||t.textContent||""}function ge(e,t,i){for(var n=0,r=[e,t,i];n<r.length;n++){var o=r[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function W(e,t,i,n,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),a=1;a<arguments.length;a++){var s=arguments[a];if(s!=null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(o[f]=s[f])}return o}function Ut(e,t){var i=new q(e),n=i.getDocumentOptions(),r=i.getGlobalOptions();ge(r,n,t);var o=W({},r,n,t),a;typeof window<"u"&&(a=window);var s=ye(r,n,t),f=ve(r,n,t),l=ce(i,o),p=Se(i,o,a);return{id:t.tableId,content:p,hooks:f,styles:s,settings:l}}function ye(e,t,i){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(f){if(f==="columnStyles"){var l=e[f],p=t[f],d=i[f];n.columnStyles=W({},l,p,d)}else{var h=[e,t,i],u=h.map(function(y){return y[f]||{}});n[f]=W({},u[0],u[1],u[2])}},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];r(s)}return n}function ve(e,t,i){for(var n=[e,t,i],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,a=n;o<a.length;o++){var s=a[o];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}function ce(e,t){var i,n,r,o,a,s,f,l,p,d,h,u,y=it(t.margin,40/e.scaleFactor()),x=(i=Ce(e,t.startY))!==null&&i!==void 0?i:y.top,C;t.showFoot===!0?C="everyPage":t.showFoot===!1?C="never":C=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var w;t.showHead===!0?w="everyPage":t.showHead===!1?w="never":w=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var R=(o=t.useCss)!==null&&o!==void 0?o:!1,H=t.theme||(R?"plain":"striped"),B=!!t.horizontalPageBreak,le=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:R,theme:H,startY:x,margin:y,pageBreak:(f=t.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(l=t.rowPageBreak)!==null&&l!==void 0?l:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:w,showFoot:C,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:B,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(u=t.horizontalPageBreakBehaviour)!==null&&u!==void 0?u:"afterAllRows"}}function Ce(e,t){var i=e.getLastAutoTable(),n=e.scaleFactor(),r=e.pageNumber(),o=!1;if(i&&i.startPageNumber){var a=i.startPageNumber+i.pageNumber-1;o=a===r}return typeof t=="number"?t:(t==null||t===!1)&&o&&i?.finalY!=null?i.finalY+20/n:null}function Se(e,t,i){var n=t.head||[],r=t.body||[],o=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(i){var s=Vt(e,t.html,i,a,t.useCss)||{};n=s.head||n,r=s.body||n,o=s.foot||n}else console.error("Cannot parse html in non browser environment")}var f=t.columns||we(n,r,o);return{columns:f,head:n,body:r,foot:o}}function we(e,t,i){var n=e[0]||t[0]||i[0]||[],r=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var a=1,s;Array.isArray(n)?s=n[parseInt(o)]:s=n[o],typeof s=="object"&&!Array.isArray(s)&&(a=s?.colSpan||1);for(var f=0;f<a;f++){var l=void 0;Array.isArray(n)?l=r.length:l=o+(f>0?"_".concat(f):"");var p={dataKey:l};r.push(p)}}),r}var mt=function(){function e(t,i,n){this.table=i,this.pageNumber=i.pageNumber,this.settings=i.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),_e=function(e){Yt(t,e);function t(i,n,r,o,a,s){var f=e.call(this,i,n,s)||this;return f.cell=r,f.row=o,f.column=a,f.section=o.section,f}return t}(mt),Te=function(){function e(t,i){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=i.columns,this.head=i.head,this.body=i.body,this.foot=i.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(i,n){return i+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(i,n){return i+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,i,n,r,o,a){for(var s=0,f=i;s<f.length;s++){var l=f[s],p=new _e(t,this,n,r,o,a),d=l(p)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,i){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var o=r[n];o(new mt(t,this,i))}},e.prototype.callWillDrawPageHooks=function(t,i){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var o=r[n];o(new mt(t,this,i))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var i=this.columns.reduce(function(r,o){return r+o.wrappedWidth},0);return i}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Zt=function(){function e(t,i,n,r,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof qt&&(this.raw=t._element,this.element=t._element),this.index=i,this.section=n,this.cells=r,this.spansMultiplePages=o}return e.prototype.getMaxCellHeight=function(t){var i=this;return t.reduce(function(n,r){var o;return Math.max(n,((o=i.cells[r.index])===null||o===void 0?void 0:o.height)||0)},0)},e.prototype.hasRowSpan=function(t){var i=this;return t.filter(function(n){var r=i.cells[n.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,i){return this.getMaxCellHeight(i)<=t},e.prototype.getMinimumRowHeight=function(t,i){var n=this;return t.reduce(function(r,o){var a=n.cells[o.index];if(!a)return 0;var s=i.getLineHeight(a.styles.fontSize),f=a.padding("vertical"),l=f+s;return l>r?l:r},0)},e}(),$t=function(){function e(t,i,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=i,this.section=n,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=o!=null?""+o:"",s=/\r\n|\r|\n/g;this.text=a.split(s)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var i=this.height-this.padding("vertical");t=this.y+i/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");n=this.x+r/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,i){i===void 0&&(i=1.15);var n=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*i,o=n*r+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},e.prototype.padding=function(t){var i=it(this.styles.cellPadding,0);return t==="vertical"?i.top+i.bottom:t==="horizontal"?i.left+i.right:i[t]},e}(),Me=function(){function e(t,i,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=i,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var i=0,n=0,r=t.allRows();n<r.length;n++){var o=r[n],a=o.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(i=Math.max(i,a.styles.cellWidth))}return i},e}();function xe(e,t){Fe(e,t);var i=[],n=0;t.columns.forEach(function(o){var a=o.getMaxCustomCellWidth(t);a?o.width=a:(o.width=o.wrappedWidth,i.push(o)),n+=o.width});var r=t.getWidth(e.pageSize().width)-n;r&&(r=gt(i,r,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),r&&(r=gt(i,r,function(o){return o.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),De(t),Pe(t,e),be(t)}function Fe(e,t){var i=e.scaleFactor(),n=t.settings.horizontalPageBreak,r=Qt(e,t);t.allRows().forEach(function(o){for(var a=0,s=t.columns;a<s.length;a++){var f=s[a],l=o.cells[f.index];if(l){var p=t.hooks.didParseCell;t.callCellHooks(e,p,l,o,f,null);var d=l.padding("horizontal");l.contentWidth=tt(l.text,l.styles,e)+d;var h=tt(l.text.join(" ").split(/[^\S\u00A0]+/),l.styles,e);if(l.minReadableWidth=h+l.padding("horizontal"),typeof l.styles.cellWidth=="number")l.minWidth=l.styles.cellWidth,l.wrappedWidth=l.styles.cellWidth;else if(l.styles.cellWidth==="wrap"||n===!0)l.contentWidth>r?(l.minWidth=r,l.wrappedWidth=r):(l.minWidth=l.contentWidth,l.wrappedWidth=l.contentWidth);else{var u=10/i;l.minWidth=l.styles.minCellWidth||u,l.wrappedWidth=l.contentWidth,l.minWidth>l.wrappedWidth&&(l.wrappedWidth=l.minWidth)}}}}),t.allRows().forEach(function(o){for(var a=0,s=t.columns;a<s.length;a++){var f=s[a],l=o.cells[f.index];if(l&&l.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,l.wrappedWidth),f.minWidth=Math.max(f.minWidth,l.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,l.minReadableWidth);else{var p=t.styles.columnStyles[f.dataKey]||t.styles.columnStyles[f.index]||{},d=p.cellWidth||p.minCellWidth;d&&typeof d=="number"&&(f.minWidth=d,f.wrappedWidth=d)}l&&(l.colSpan>1&&!f.minWidth&&(f.minWidth=l.minWidth),l.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=l.minWidth))}})}function gt(e,t,i){for(var n=t,r=e.reduce(function(u,y){return u+y.wrappedWidth},0),o=0;o<e.length;o++){var a=e[o],s=a.wrappedWidth/r,f=n*s,l=a.width+f,p=i(a),d=l<p?p:l;t-=d-a.width,a.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(u){return t<0?u.width>i(u):!0});h.length&&(t=gt(h,t,i))}return t}function be(e){for(var t={},i=1,n=e.allRows(),r=0;r<n.length;r++)for(var o=n[r],a=0,s=e.columns;a<s.length;a++){var f=s[a],l=t[f.index];if(i>1)i--,delete o.cells[f.index];else if(l)l.cell.height+=o.height,i=l.cell.colSpan,delete o.cells[f.index],l.left--,l.left<=1&&delete t[f.index];else{var p=o.cells[f.index];if(!p)continue;if(p.height=o.height,p.rowSpan>1){var d=n.length-r,h=p.rowSpan>d?d:p.rowSpan;t[f.index]={cell:p,left:h,row:o}}}}}function De(e){for(var t=e.allRows(),i=0;i<t.length;i++)for(var n=t[i],r=null,o=0,a=0,s=0;s<e.columns.length;s++){var f=e.columns[s];if(a-=1,a>1&&e.columns[s+1])o+=f.width,delete n.cells[f.index];else if(r){var l=r;delete n.cells[f.index],r=null,l.width=f.width+o}else{var l=n.cells[f.index];if(!l)continue;if(a=l.colSpan,o=0,l.colSpan>1){r=l,o+=f.width;continue}l.width=f.width+o}}}function Pe(e,t){for(var i={count:0,height:0},n=0,r=e.allRows();n<r.length;n++){for(var o=r[n],a=0,s=e.columns;a<s.length;a++){var f=s[a],l=o.cells[f.index];if(l){t.applyStyles(l.styles,!0);var p=l.width-l.padding("horizontal");if(l.styles.overflow==="linebreak")l.text=t.splitTextToSize(l.text,p+1/t.scaleFactor(),{fontSize:l.styles.fontSize});else if(l.styles.overflow==="ellipsize")l.text=jt(l.text,p,l.styles,t,"...");else if(l.styles.overflow==="hidden")l.text=jt(l.text,p,l.styles,t,"");else if(typeof l.styles.overflow=="function"){var d=l.styles.overflow(l.text,p);typeof d=="string"?l.text=[d]:l.text=d}l.contentHeight=l.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=l.contentHeight/l.rowSpan;l.rowSpan>1&&i.count*i.height<h*l.rowSpan?i={height:h,count:l.rowSpan}:i&&i.count>0&&i.height>h&&(h=i.height),h>o.height&&(o.height=h)}}i.count--}}function jt(e,t,i,n,r){return e.map(function(o){return He(o,t,i,n,r)})}function He(e,t,i,n,r){var o=1e4*n.scaleFactor();if(t=Math.ceil(t*o)/o,t>=tt(e,i,n))return e;for(;t<tt(e+r,i,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function te(e,t){var i=new q(e),n=We(t,i.scaleFactor()),r=new Te(t,n);return xe(i,r),i.applyStyles(i.userStyles),r}function We(e,t){var i=e.content,n=Re(i.columns);if(i.head.length===0){var r=Nt(n,"head");r&&i.head.push(r)}if(i.foot.length===0){var r=Nt(n,"foot");r&&i.foot.push(r)}var o=e.settings.theme,a=e.styles;return{columns:n,head:st("head",i.head,n,a,o,t),body:st("body",i.body,n,a,o,t),foot:st("foot",i.foot,n,a,o,t)}}function st(e,t,i,n,r,o){var a={},s=t.map(function(f,l){for(var p=0,d={},h=0,u=0,y=0,x=i;y<x.length;y++){var C=x[y];if(a[C.index]==null||a[C.index].left===0)if(u===0){var w=void 0;Array.isArray(f)?w=f[C.index-h-p]:w=f[C.dataKey];var R={};typeof w=="object"&&!Array.isArray(w)&&(R=w?.styles||{});var H=Ee(e,C,l,r,n,o,R),B=new $t(w,H,e);d[C.dataKey]=B,d[C.index]=B,u=B.colSpan-1,a[C.index]={left:B.rowSpan-1,times:u}}else u--,h++;else a[C.index].left--,u=a[C.index].times,p++}return new Zt(f,l,e,d)});return s}function Nt(e,t){var i={};return e.forEach(function(n){if(n.raw!=null){var r=ke(t,n.raw);r!=null&&(i[n.dataKey]=r)}}),Object.keys(i).length>0?i:null}function ke(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Re(e){return e.map(function(t,i){var n,r;return typeof t=="object"?r=(n=t.dataKey)!==null&&n!==void 0?n:i:r=i,new Me(r,t,i)})}function Ee(e,t,i,n,r,o,a){var s=fe(n),f;e==="head"?f=r.headStyles:e==="body"?f=r.bodyStyles:e==="foot"&&(f=r.footStyles);var l=W({},s.table,s[e],r.styles,f),p=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},d=e==="body"?p:{},h=e==="body"&&i%2===0?W({},s.alternateRow,r.alternateRowStyles):{},u=se(o),y=W({},u,l,h,d);return W(y,a)}function Le(e,t,i){var n;i===void 0&&(i={});var r=Qt(e,t),o=new Map,a=[],s=[],f=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?f=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(f=[t.settings.horizontalPageBreakRepeat]),f.forEach(function(h){var u=t.columns.find(function(y){return y.dataKey===h||y.index===h});u&&!o.has(u.index)&&(o.set(u.index,!0),a.push(u.index),s.push(t.columns[u.index]),r-=u.wrappedWidth)});for(var l=!0,p=(n=i?.start)!==null&&n!==void 0?n:0;p<t.columns.length;){if(o.has(p)){p++;continue}var d=t.columns[p].wrappedWidth;if(l||r>=d)l=!1,a.push(p),s.push(t.columns[p]),r-=d;else break;p++}return{colIndexes:a,columns:s,lastIndex:p-1}}function Ae(e,t){for(var i=[],n=0;n<t.columns.length;n++){var r=Le(e,t,{start:n});r.columns.length&&(i.push(r),n=r.lastIndex)}return i}function ee(e,t){var i=t.settings,n=i.startY,r=i.margin,o={x:r.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+r.bottom+a;if(i.pageBreak==="avoid"){var f=t.body,l=f.reduce(function(h,u){return h+u.height},0);s+=l}var p=new q(e);(i.pageBreak==="always"||i.startY!=null&&s>p.pageSize().height)&&(ne(p),o.y=r.top),t.callWillDrawPageHooks(p,o);var d=W({},o);t.startPageNumber=p.pageNumber(),i.horizontalPageBreak?ze(p,t,d,o):(p.applyStyles(p.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(h){return k(p,t,h,o,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(h,u){var y=u===t.body.length-1;et(p,t,h,y,d,o,t.columns)}),p.applyStyles(p.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(h){return k(p,t,h,o,t.columns)})),Gt(p,t,d,o),t.callEndPageHooks(p,o),t.finalY=o.y,e.lastAutoTable=t,p.applyStyles(p.userStyles)}function ze(e,t,i,n){var r=Ae(e,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(l,p){e.applyStyles(e.userStyles),p>0?G(e,t,i,n,l.columns,!0):Ot(e,t,n,l.columns),Be(e,t,i,n,l.columns),ft(e,t,n,l.columns)});else for(var a=-1,s=r[0],f=function(){var l=a;if(s){e.applyStyles(e.userStyles);var p=s.columns;a>=0?G(e,t,i,n,p,!0):Ot(e,t,n,p),l=It(e,t,a+1,n,p),ft(e,t,n,p)}var d=l-a;r.slice(1).forEach(function(h){e.applyStyles(e.userStyles),G(e,t,i,n,h.columns,!0),It(e,t,a+1,n,h.columns,d),ft(e,t,n,h.columns)}),a=l};a<t.body.length-1;)f()}function Ot(e,t,i,n){var r=t.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(o){return k(e,t,o,i,n)})}function Be(e,t,i,n,r){e.applyStyles(e.userStyles),t.body.forEach(function(o,a){var s=a===t.body.length-1;et(e,t,o,s,i,n,r)})}function It(e,t,i,n,r,o){e.applyStyles(e.userStyles),o=o??t.body.length;var a=Math.min(i+o,t.body.length),s=-1;return t.body.slice(i,a).forEach(function(f,l){var p=i+l===t.body.length-1,d=ie(e,t,p,n);f.canEntireRowFit(d,r)&&(k(e,t,f,n,r),s=i+l)}),s}function ft(e,t,i,n){var r=t.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(o){return k(e,t,o,i,n)})}function je(e,t,i){var n=i.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),o=Math.floor((t-r)/n);return Math.max(0,o)}function Ne(e,t,i,n){var r={};e.spansMultiplePages=!0,e.height=0;for(var o=0,a=0,s=i.columns;a<s.length;a++){var f=s[a],l=e.cells[f.index];if(l){Array.isArray(l.text)||(l.text=[l.text]);var p=new $t(l.raw,l.styles,l.section);p=W(p,l),p.text=[];var d=je(l,t,n);l.text.length>d&&(p.text=l.text.splice(d,l.text.length));var h=n.scaleFactor(),u=n.getLineHeightFactor();l.contentHeight=l.getContentHeight(h,u),l.contentHeight>=t&&(l.contentHeight=t,p.styles.minCellHeight-=t),l.contentHeight>e.height&&(e.height=l.contentHeight),p.contentHeight=p.getContentHeight(h,u),p.contentHeight>o&&(o=p.contentHeight),r[f.index]=p}}var y=new Zt(e.raw,-1,e.section,r,!0);y.height=o;for(var x=0,C=i.columns;x<C.length;x++){var f=C[x],p=y.cells[f.index];p&&(p.height=y.height);var l=e.cells[f.index];l&&(l.height=e.height)}return y}function Oe(e,t,i,n){var r=e.pageSize().height,o=n.settings.margin,a=o.top+o.bottom,s=r-a;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var f=t.getMinimumRowHeight(n.columns,e),l=f<i;if(f>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var p=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>s;return d?(p&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||n.settings.rowPageBreak==="avoid")}function et(e,t,i,n,r,o,a){var s=ie(e,t,n,o);if(i.canEntireRowFit(s,a))k(e,t,i,o,a);else if(Oe(e,i,s,t)){var f=Ne(i,s,t,e);k(e,t,i,o,a),G(e,t,r,o,a),et(e,t,f,n,r,o,a)}else G(e,t,r,o,a),et(e,t,i,n,r,o,a)}function k(e,t,i,n,r){n.x=t.settings.margin.left;for(var o=0,a=r;o<a.length;o++){var s=a[o],f=i.cells[s.index];if(!f){n.x+=s.width;continue}e.applyStyles(f.styles),f.x=n.x,f.y=n.y;var l=t.callCellHooks(e,t.hooks.willDrawCell,f,i,s,n);if(l===!1){n.x+=s.width;continue}Ie(e,f,n);var p=f.getTextPos();Xt(f.text,p.x,p.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,f,i,s,n),n.x+=s.width}n.y+=i.height}function Ie(e,t,i){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var r=Kt(n.lineWidth,n.fillColor);r&&e.rect(t.x,i.y,t.width,t.height,r)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,i.y,t.width,t.height,"F"),Xe(e,t,i,n.lineWidth))}function Xe(e,t,i,n){var r,o,a,s;n.top&&(r=i.x,o=i.y,a=i.x+t.width,s=i.y,n.right&&(a+=.5*n.right),n.left&&(r-=.5*n.left),f(n.top,r,o,a,s)),n.bottom&&(r=i.x,o=i.y+t.height,a=i.x+t.width,s=i.y+t.height,n.right&&(a+=.5*n.right),n.left&&(r-=.5*n.left),f(n.bottom,r,o,a,s)),n.left&&(r=i.x,o=i.y,a=i.x,s=i.y+t.height,n.top&&(o-=.5*n.top),n.bottom&&(s+=.5*n.bottom),f(n.left,r,o,a,s)),n.right&&(r=i.x+t.width,o=i.y,a=i.x+t.width,s=i.y+t.height,n.top&&(o-=.5*n.top),n.bottom&&(s+=.5*n.bottom),f(n.right,r,o,a,s));function f(l,p,d,h,u){e.getDocument().setLineWidth(l),e.getDocument().line(p,d,h,u,"S")}}function ie(e,t,i,n){var r=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&i)&&(r+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-r}function G(e,t,i,n,r,o){r===void 0&&(r=[]),o===void 0&&(o=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(s){return k(e,t,s,n,r)}),t.callEndPageHooks(e,n);var a=t.settings.margin;Gt(e,t,i,n),ne(e),t.pageNumber++,n.x=a.left,n.y=a.top,i.y=a.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return k(e,t,s,n,r)}),e.applyStyles(e.userStyles))}function ne(e){var t=e.pageNumber();e.setPage(t+1);var i=e.pageNumber();return i===t?(e.addPage(),!0):!1}function Ye(e){e.API.autoTable=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t[0],r=Ut(this,n),o=te(this,r);return ee(this,o),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,i,n,r){Xt(t,i,n,r,this)},e.API.autoTableSetDefaults=function(t){return q.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,i){q.setDefaults(t,i)},e.API.autoTableHtmlToJson=function(t,i){var n;if(i===void 0&&(i=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new q(this),o=Vt(r,t,window,i,!1),a=o.head,s=o.body,f=((n=a[0])===null||n===void 0?void 0:n.map(function(l){return l.content}))||[];return{columns:f,rows:s,data:s}}}var pt;function K(e,t){var i=Ut(e,t),n=te(e,i);ee(e,n)}try{typeof window<"u"&&window&&(dt=window,ht=dt.jsPDF||((pt=dt.jspdf)===null||pt===void 0?void 0:pt.jsPDF),ht&&Ye(ht))}catch(e){console.error("Could not apply autoTable plugin",e)}var dt,ht;function Ge(e,t){if(e&1&&(m(0,"tr")(1,"td",11),c(2),g(),m(3,"td",11),c(4),g(),m(5,"td",11),c(6),g()()),e&2){let i=t.$implicit;v(2),b(i.field),v(2),St("Rs ",i.cost,""),v(2),b(i.productivity)}}var J=(()=>{class e{constructor(){this.fieldsList=["Field A","Field B","Field C"],this.filters={field:"",minCost:0},this.fullData=[{field:"Field A",cost:5e3,productivity:120},{field:"Field B",cost:3e3,productivity:95},{field:"Field C",cost:8e3,productivity:150}],this.filteredData=[...this.fullData]}applyFilters(){this.filteredData=this.fullData.filter(i=>{let n=i.field.toLowerCase().includes(this.filters.field.toLowerCase()),r=i.cost>=this.filters.minCost;return n&&r})}clearFilters(){this.filters={field:"",minCost:0},this.applyFilters()}getSummaryData(){return this.filteredData.map(i=>({metric:i.field,value:`Cost: Rs ${i.cost}, Productivity: ${i.productivity} kg`}))}exportToPDF(){let i=new $;i.setFontSize(16),i.text("Productivity & Cost Report",14,10);let n=this.getSummaryData();K(i,{startY:20,head:[["Field","Details"]],body:n.map(r=>[r.metric,r.value])}),i.save("productivity-cost-report.pdf")}exportToExcel(){let i=L.json_to_sheet(this.getSummaryData()),n=L.book_new();L.book_append_sheet(n,i,"Productivity Cost"),Z(n,"productivity-cost-report.xlsx")}printReport(){let i=document.getElementById("print-section")?.innerHTML;if(i){let n=window.open("","","width=800,height=600");n&&(n.document.write(`
          <html>
            <head>
              <title>Productivity & Cost Report</title>
              <style>
                body { font-family: Arial, sans-serif; padding: 20px; }
                table { width: 100%; border-collapse: collapse; }
                th, td { padding: 8px; border: 1px solid #000; }
              </style>
            </head>
            <body>
              ${i}
              <script>
                window.onload = function() {
                  window.print();
                  window.onafterprint = function () { window.close(); };
                };
              <\/script>
            </body>
          </html>
        `),n.document.close())}}getData(){return this.getSummaryData()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=E({type:e,selectors:[["app-productivity-cost"]],decls:26,vars:3,consts:[[1,"text-foreground","mb-4","mt-6","font-semibold"],[1,"mt-4","space-y-6","rounded","p-6","shadow"],[1,"flex","flex-wrap","items-end","gap-4",3,"ngSubmit"],[1,"flex","flex-col"],[1,"mb-1","text-sm","font-medium"],["type","text","name","field","placeholder","Enter field name",1,"rounded","border","px-3","py-2",3,"ngModelChange","ngModel"],["type","number","name","minCost",1,"rounded","border","px-3","py-2",3,"ngModelChange","ngModel"],["type","submit",1,"bg-primary","text-primary-foreground","flex-none","rounded-md","px-4","py-2.5","text-xs","font-semibold"],["id","print-section"],[1,"mt-4","w-full","border-collapse","border"],[1,"bg-gray-100"],[1,"border","px-4","py-2"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(m(0,"h3",0),c(1,"Productivity & Cost Summary"),g(),m(2,"div",1)(3,"form",2),S("ngSubmit",function(){return r.applyFilters()}),m(4,"div",3)(5,"label",4),c(6,"Filter by Field"),g(),m(7,"input",5),M("ngModelChange",function(a){return T(r.filters.field,a)||(r.filters.field=a),a}),g()(),m(8,"div",3)(9,"label",4),c(10,"Minimum Cost"),g(),m(11,"input",6),M("ngModelChange",function(a){return T(r.filters.minCost,a)||(r.filters.minCost=a),a}),g()(),m(12,"button",7),c(13," Apply "),g()(),m(14,"div",8)(15,"table",9)(16,"thead")(17,"tr",10)(18,"th",11),c(19,"Field"),g(),m(20,"th",11),c(21,"Cost"),g(),m(22,"th",11),c(23,"Productivity (kg)"),g()()(),m(24,"tbody"),F(25,Ge,7,3,"tr",12),g()()()()),n&2&&(v(7),_("ngModel",r.filters.field),v(4),_("ngModel",r.filters.minCost),v(14),j("ngForOf",r.filteredData))},dependencies:[D,wt,P,Mt,O,xt,I,_t,X,Tt,Y,At,at,zt],encapsulation:2})}}return e})();function Ke(e,t){e&1&&(m(0,"th",19),c(1,"Date"),g())}function Qe(e,t){if(e&1&&(m(0,"td",20),c(1),g()),e&2){let i=t.$implicit;v(),b(i.date)}}function Je(e,t){e&1&&(m(0,"th",19),c(1,"Field"),g())}function Ve(e,t){if(e&1&&(m(0,"td",20),c(1),g()),e&2){let i=t.$implicit;v(),b(i.field)}}function Ue(e,t){e&1&&(m(0,"th",19),c(1,"Worker"),g())}function Ze(e,t){if(e&1&&(m(0,"td",20),c(1),g()),e&2){let i=t.$implicit;v(),b(i.worker)}}function $e(e,t){e&1&&(m(0,"th",19),c(1,"Crop"),g())}function ti(e,t){if(e&1&&(m(0,"td",20),c(1),g()),e&2){let i=t.$implicit;v(),b(i.crop)}}function ei(e,t){e&1&&(m(0,"th",19),c(1,"Cost Type"),g())}function ii(e,t){if(e&1&&(m(0,"td",20),c(1),g()),e&2){let i=t.$implicit;v(),b(i.costType)}}function ni(e,t){e&1&&(m(0,"th",19),c(1,"Quantity"),g())}function ri(e,t){if(e&1&&(m(0,"td",20),c(1),g()),e&2){let i=t.$implicit;v(),b(i.quantity)}}function oi(e,t){e&1&&N(0,"tr",21)}function ai(e,t){e&1&&N(0,"tr",22)}var nt=(()=>{class e{constructor(){this.harvestData=[{date:"2025-07-15",field:"A",worker:"John",crop:"Tea",costType:"Labor",quantity:100},{date:"2025-07-16",field:"B",worker:"Sara",crop:"Rubber",costType:"Transport",quantity:80},{date:"2025-07-17",field:"C",worker:"Ali",crop:"Tea",costType:"Fertilizer",quantity:120}],this.displayedColumns=["date","field","worker","crop","costType","quantity"],this.filteredData=[],this.filters={dateFrom:"",dateTo:"",field:"",worker:"",cropType:"",costType:""}}ngOnInit(){this.filteredData=[...this.harvestData]}onFiltersChange(){this.filteredData=this.harvestData.filter(i=>(!this.filters.dateFrom||i.date>=this.filters.dateFrom)&&(!this.filters.dateTo||i.date<=this.filters.dateTo)&&(!this.filters.field||i.field.toLowerCase().includes(this.filters.field.toLowerCase()))&&(!this.filters.worker||i.worker.toLowerCase().includes(this.filters.worker.toLowerCase()))&&(!this.filters.cropType||i.crop.toLowerCase().includes(this.filters.cropType.toLowerCase()))&&(!this.filters.costType||i.costType.toLowerCase().includes(this.filters.costType.toLowerCase())))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=E({type:e,selectors:[["app-harvest-summary"]],decls:30,vars:8,consts:[[1,"text-foreground","mb-4","font-semibold"],[1,"rounded","p-6","shadow"],[1,"mb-6","grid","grid-cols-3","gap-4"],["type","date","placeholder","From Date",1,"rounded","border","p-2",3,"ngModelChange","ngModel"],["type","text","placeholder","Field",1,"rounded","border","p-2",3,"ngModelChange","ngModel"],["type","text","placeholder","Worker",1,"rounded","border","p-2",3,"ngModelChange","ngModel"],["type","text","placeholder","Crop Type",1,"rounded","border","p-2",3,"ngModelChange","ngModel"],["type","text","placeholder","Cost Type",1,"rounded","border","p-2",3,"ngModelChange","ngModel"],["mat-table","",1,"mat-elevation-z8","w-full",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","field"],["matColumnDef","worker"],["matColumnDef","crop"],["matColumnDef","costType"],["matColumnDef","quantity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,r){n&1&&(m(0,"h3",0),c(1,"Harvest Summary"),g(),m(2,"div",1)(3,"div",2)(4,"input",3),M("ngModelChange",function(a){return T(r.filters.dateFrom,a)||(r.filters.dateFrom=a),a}),S("ngModelChange",function(){return r.onFiltersChange()}),g(),m(5,"input",4),M("ngModelChange",function(a){return T(r.filters.field,a)||(r.filters.field=a),a}),S("ngModelChange",function(){return r.onFiltersChange()}),g(),m(6,"input",5),M("ngModelChange",function(a){return T(r.filters.worker,a)||(r.filters.worker=a),a}),S("ngModelChange",function(){return r.onFiltersChange()}),g(),m(7,"input",6),M("ngModelChange",function(a){return T(r.filters.cropType,a)||(r.filters.cropType=a),a}),S("ngModelChange",function(){return r.onFiltersChange()}),g(),m(8,"input",7),M("ngModelChange",function(a){return T(r.filters.costType,a)||(r.filters.costType=a),a}),S("ngModelChange",function(){return r.onFiltersChange()}),g()(),m(9,"table",8),A(10,9),F(11,Ke,2,0,"th",10)(12,Qe,2,1,"td",11),z(),A(13,12),F(14,Je,2,0,"th",10)(15,Ve,2,1,"td",11),z(),A(16,13),F(17,Ue,2,0,"th",10)(18,Ze,2,1,"td",11),z(),A(19,14),F(20,$e,2,0,"th",10)(21,ti,2,1,"td",11),z(),A(22,15),F(23,ei,2,0,"th",10)(24,ii,2,1,"td",11),z(),A(25,16),F(26,ni,2,0,"th",10)(27,ri,2,1,"td",11),z(),F(28,oi,1,0,"tr",17)(29,ai,1,0,"tr",18),g()()),n&2&&(v(4),_("ngModel",r.filters.dateFrom),v(),_("ngModel",r.filters.field),v(),_("ngModel",r.filters.worker),v(),_("ngModel",r.filters.cropType),v(),_("ngModel",r.filters.costType),v(),j("dataSource",r.filteredData),v(19),j("matHeaderRowDef",r.displayedColumns),v(),j("matRowDefColumns",r.displayedColumns))},dependencies:[D,P,O,I,X,Y,Ft,Dt,kt,Pt,bt,Rt,Ht,Wt,Et,Lt],encapsulation:2})}}return e})();var rt=(()=>{class e{constructor(){this.filters={dateFrom:"",dateTo:"",field:"",worker:"",cropType:"",costType:""},this.harvestData=[{date:"2025-07-15",field:"A",worker:"John",crop:"Tea",costType:"Labor",quantity:100},{date:"2025-07-16",field:"B",worker:"Sara",crop:"Rubber",costType:"Transport",quantity:80},{date:"2025-07-17",field:"C",worker:"Ali",crop:"Tea",costType:"Fertilizer",quantity:120}],this.displayedColumns=["date","field","worker","crop","costType","quantity"],this.filteredData=[...this.harvestData]}onFiltersChange(){this.filteredData=this.harvestData.filter(i=>(!this.filters.dateFrom||i.date>=this.filters.dateFrom)&&(!this.filters.dateTo||i.date<=this.filters.dateTo)&&(!this.filters.field||i.field.includes(this.filters.field))&&(!this.filters.worker||i.worker.includes(this.filters.worker))&&(!this.filters.cropType||i.crop.includes(this.filters.cropType))&&(!this.filters.costType||i.costType.includes(this.filters.costType)))}exportToPDF(){let i=new $;i.setFontSize(16),i.text("Harvest Summary Report",14,20),K(i,{startY:25,head:[["Date","Field","Worker","Crop","Cost Type","Quantity"]],body:this.filteredData.map(r=>[r.date,r.field,r.worker,r.crop,r.costType,r.quantity])});let n=this.productivityComponent?.getData()||[];n.length&&(i.addPage(),i.setFontSize(16),i.text("Productivity & Cost Report",14,20),K(i,{startY:25,head:[["Metric","Value"]],body:n.map(r=>[r.metric,r.value])})),i.save("combined-report.pdf")}exportToExcel(){let i=L.json_to_sheet(this.filteredData),n=L.book_new();L.book_append_sheet(n,i,"Harvest Report"),Z(n,"harvest-report.xlsx")}printReport(){window.print()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=E({type:e,selectors:[["app-reports"]],viewQuery:function(n,r){if(n&1&&vt(J,5),n&2){let o;ct(o=Ct())&&(r.productivityComponent=o.first)}},decls:10,vars:0,consts:[[1,"mt-10","mb-6","flex","gap-4"],[1,"flex-none","rounded-md","bg-blue-600","px-4","py-2.5","text-xs","font-semibold","text-white",3,"click"],[1,"flex-none","rounded-md","bg-green-600","px-4","py-2.5","text-xs","font-semibold","text-white",3,"click"],[1,"flex-none","rounded-md","bg-gray-600","px-4","py-2.5","text-xs","font-semibold","text-white",3,"click"]],template:function(n,r){n&1&&(N(0,"app-harvest-summary"),m(1,"div"),N(2,"app-productivity-cost"),m(3,"div",0)(4,"button",1),S("click",function(){return r.exportToPDF()}),c(5," Export to PDF "),g(),m(6,"button",2),S("click",function(){return r.exportToExcel()}),c(7," Export to Excel "),g(),m(8,"button",3),S("click",function(){return r.printReport()}),c(9," Print "),g()()())},dependencies:[D,P,J,Y,nt],encapsulation:2})}}return e})();var oe=(()=>{class e{constructor(){this.filtersChange=new yt}onChange(){this.filtersChange.emit()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=E({type:e,selectors:[["app-filters"]],inputs:{filters:"filters"},outputs:{filtersChange:"filtersChange"},decls:7,vars:6,consts:[[1,"grid","grid-cols-3","gap-4"],["type","date","placeholder","From Date",1,"border","p-2","rounded",3,"ngModelChange","ngModel"],["type","date","placeholder","To Date",1,"border","p-2","rounded",3,"ngModelChange","ngModel"],["type","text","placeholder","Field",1,"border","p-2","rounded",3,"ngModelChange","ngModel"],["type","text","placeholder","Worker",1,"border","p-2","rounded",3,"ngModelChange","ngModel"],["type","text","placeholder","Crop Type",1,"border","p-2","rounded",3,"ngModelChange","ngModel"],["type","text","placeholder","Cost Type",1,"border","p-2","rounded",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"input",1),M("ngModelChange",function(a){return T(r.filters.dateFrom,a)||(r.filters.dateFrom=a),a}),S("ngModelChange",function(){return r.onChange()}),g(),m(2,"input",2),M("ngModelChange",function(a){return T(r.filters.dateTo,a)||(r.filters.dateTo=a),a}),S("ngModelChange",function(){return r.onChange()}),g(),m(3,"input",3),M("ngModelChange",function(a){return T(r.filters.field,a)||(r.filters.field=a),a}),S("ngModelChange",function(){return r.onChange()}),g(),m(4,"input",4),M("ngModelChange",function(a){return T(r.filters.worker,a)||(r.filters.worker=a),a}),S("ngModelChange",function(){return r.onChange()}),g(),m(5,"input",5),M("ngModelChange",function(a){return T(r.filters.cropType,a)||(r.filters.cropType=a),a}),S("ngModelChange",function(){return r.onChange()}),g(),m(6,"input",6),M("ngModelChange",function(a){return T(r.filters.costType,a)||(r.filters.costType=a),a}),S("ngModelChange",function(){return r.onChange()}),g()()),n&2&&(v(),_("ngModel",r.filters.dateFrom),v(),_("ngModel",r.filters.dateTo),v(),_("ngModel",r.filters.field),v(),_("ngModel",r.filters.worker),v(),_("ngModel",r.filters.cropType),v(),_("ngModel",r.filters.costType))},dependencies:[D,P,O,I,X],encapsulation:2})}}return e})();var li=[{path:"",component:rt}],ae=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=V({imports:[ot.forChild(li),ot]})}}return e})();var an=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=V({imports:[D,P,ae,rt,oe,nt,J]})}}return e})();export{an as ReportsModule};
